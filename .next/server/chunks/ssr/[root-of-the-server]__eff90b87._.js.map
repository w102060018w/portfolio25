{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/_components/switch.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"n\": \"switch-module__DSibBW__n\",\n  \"switch\": \"switch-module__DSibBW__switch\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/portfolio25/portfolio25-tmp1/src/app/_components/theme-switcher.tsx"],"sourcesContent":["\"use client\";\n\nimport styles from \"./switch.module.css\";\nimport { memo, useEffect, useState } from \"react\";\n\ndeclare global {\n  var updateDOM: () => void;\n}\n\ntype ColorSchemePreference = \"system\" | \"dark\" | \"light\";\n\nconst STORAGE_KEY = \"nextjs-blog-starter-theme\";\nconst modes: ColorSchemePreference[] = [\"system\", \"dark\", \"light\"];\n\n/** to reuse updateDOM function defined inside injected script */\n\n/** function to be injected in script tag for avoiding FOUC (Flash of Unstyled Content) */\nexport const NoFOUCScript = (storageKey: string) => {\n  /* can not use outside constants or function as this script will be injected in a different context */\n  const [SYSTEM, DARK, LIGHT] = [\"system\", \"dark\", \"light\"];\n\n  /** Modify transition globally to avoid patched transitions */\n  const modifyTransition = () => {\n    const css = document.createElement(\"style\");\n    css.textContent = \"*,*:after,*:before{transition:none !important;}\";\n    document.head.appendChild(css);\n\n    return () => {\n      /* Force restyle */\n      getComputedStyle(document.body);\n      /* Wait for next tick before removing */\n      setTimeout(() => document.head.removeChild(css), 1);\n    };\n  };\n\n  const media = matchMedia(`(prefers-color-scheme: ${DARK})`);\n\n  /** function to add remove dark class */\n  window.updateDOM = () => {\n    const restoreTransitions = modifyTransition();\n    const mode = localStorage.getItem(storageKey) ?? SYSTEM;\n    const systemMode = media.matches ? DARK : LIGHT;\n    const resolvedMode = mode === SYSTEM ? systemMode : mode;\n    const classList = document.documentElement.classList;\n    if (resolvedMode === DARK) classList.add(DARK);\n    else classList.remove(DARK);\n    document.documentElement.setAttribute(\"data-mode\", mode);\n    restoreTransitions();\n  };\n  window.updateDOM();\n  media.addEventListener(\"change\", window.updateDOM);\n};\n\nlet updateDOM: () => void;\n\n/**\n * Switch button to quickly toggle user preference.\n */\nconst Switch = () => {\n  const [mode, setMode] = useState<ColorSchemePreference>(\n    () =>\n      ((typeof localStorage !== \"undefined\" &&\n        localStorage.getItem(STORAGE_KEY)) ??\n        \"system\") as ColorSchemePreference,\n  );\n\n  useEffect(() => {\n    // store global functions to local variables to avoid any interference\n    updateDOM = window.updateDOM;\n    /** Sync the tabs */\n    addEventListener(\"storage\", (e: StorageEvent): void => {\n      e.key === STORAGE_KEY && setMode(e.newValue as ColorSchemePreference);\n    });\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, mode);\n    updateDOM();\n  }, [mode]);\n\n  /** toggle mode */\n  const handleModeSwitch = () => {\n    const index = modes.indexOf(mode);\n    setMode(modes[(index + 1) % modes.length]);\n  };\n  return (\n    <button\n      suppressHydrationWarning\n      className={styles.switch}\n      onClick={handleModeSwitch}\n    />\n  );\n};\n\nconst Script = memo(() => (\n  <script\n    dangerouslySetInnerHTML={{\n      __html: `(${NoFOUCScript.toString()})('${STORAGE_KEY}')`,\n    }}\n  />\n));\n\n/**\n * This component wich applies classes and transitions.\n */\nexport const ThemeSwitcher = () => {\n  return (\n    <>\n      <Script />\n      <Switch />\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWA,MAAM,cAAc;AACpB,MAAM,QAAiC;IAAC;IAAU;IAAQ;CAAQ;AAK3D,MAAM,eAAe,CAAC;IAC3B,oGAAoG,GACpG,MAAM,CAAC,QAAQ,MAAM,MAAM,GAAG;QAAC;QAAU;QAAQ;KAAQ;IAEzD,4DAA4D,GAC5D,MAAM,mBAAmB;QACvB,MAAM,MAAM,SAAS,aAAa,CAAC;QACnC,IAAI,WAAW,GAAG;QAClB,SAAS,IAAI,CAAC,WAAW,CAAC;QAE1B,OAAO;YACL,iBAAiB,GACjB,iBAAiB,SAAS,IAAI;YAC9B,sCAAsC,GACtC,WAAW,IAAM,SAAS,IAAI,CAAC,WAAW,CAAC,MAAM;QACnD;IACF;IAEA,MAAM,QAAQ,WAAW,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;IAE1D,sCAAsC,GACtC,OAAO,SAAS,GAAG;QACjB,MAAM,qBAAqB;QAC3B,MAAM,OAAO,aAAa,OAAO,CAAC,eAAe;QACjD,MAAM,aAAa,MAAM,OAAO,GAAG,OAAO;QAC1C,MAAM,eAAe,SAAS,SAAS,aAAa;QACpD,MAAM,YAAY,SAAS,eAAe,CAAC,SAAS;QACpD,IAAI,iBAAiB,MAAM,UAAU,GAAG,CAAC;aACpC,UAAU,MAAM,CAAC;QACtB,SAAS,eAAe,CAAC,YAAY,CAAC,aAAa;QACnD;IACF;IACA,OAAO,SAAS;IAChB,MAAM,gBAAgB,CAAC,UAAU,OAAO,SAAS;AACnD;AAEA,IAAI;AAEJ;;CAEC,GACD,MAAM,SAAS;IACb,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAC7B,IACG,CAAC,OAAO,iBAAiB,eACxB,aAAa,OAAO,CAAC,YAAY,KACjC;IAGN,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,sEAAsE;QACtE,YAAY,OAAO,SAAS;QAC5B,kBAAkB,GAClB,iBAAiB,WAAW,CAAC;YAC3B,EAAE,GAAG,KAAK,eAAe,QAAQ,EAAE,QAAQ;QAC7C;IACF,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa,OAAO,CAAC,aAAa;QAClC;IACF,GAAG;QAAC;KAAK;IAET,gBAAgB,GAChB,MAAM,mBAAmB;QACvB,MAAM,QAAQ,MAAM,OAAO,CAAC;QAC5B,QAAQ,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,MAAM,MAAM,CAAC;IAC3C;IACA,qBACE,8OAAC;QACC,wBAAwB;QACxB,WAAW,+IAAA,CAAA,UAAM,CAAC,MAAM;QACxB,SAAS;;;;;;AAGf;AAEA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE,kBAClB,8OAAC;QACC,yBAAyB;YACvB,QAAQ,CAAC,CAAC,EAAE,aAAa,QAAQ,GAAG,GAAG,EAAE,YAAY,EAAE,CAAC;QAC1D;;;;;;AAOG,MAAM,gBAAgB;IAC3B,qBACE;;0BACE,8OAAC;;;;;0BACD,8OAAC;;;;;;;AAGP","debugId":null}}]
}